(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{611:function(t,e,n){"use strict";n.r(e);var a=n(919),r=n(669);for(var i in r)"default"!==i&&function(t){n.d(e,t,function(){return r[t]})}(i);n(791);var o=n(140),u=Object(o.a)(r.default,a.a,a.b,!1,null,"04c2f061",null);u.options.__file="src/app/views/shopManage/shop/shopList.vue",e.default=u.exports},622:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.timeoutText=e.timeFormat=e.dateFormat=e.pageSize=void 0;e.pageSize=10;e.dateFormat="YYYY-MM-DD";e.timeFormat="YYYY-MM-DD HH:mm:ss";e.timeoutText="登录过期，请重新登录"},625:function(t,e,n){"use strict";var a=n(91);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a(n(632)),i=a(n(633)),o=a(n(634)),u=n(318),s=new RegExp(u.apiConfig.allowUrls),c=new RegExp(u.apiConfig.noJsonTypeUrls);function l(t){if(!s.test(t)){var e=localStorage.getItem("malltoken");return c.test(t)?{token:e}:{token:e,"Content-Type":"application/json;charset=UTF-8"}}return c.test(t)?{}:{"Content-Type":"application/json;charset=UTF-8"}}function d(t){return o.default.done(),{data:{status:t.status,data:t.data}}}r.default.interceptors.request.use(function(t){return o.default.start(),t},function(t){return Promise.reject(t)}),r.default.interceptors.response.use(function(t){return t},function(t){return Promise.resolve(t.response)});var f={post:function(t,e){return(0,r.default)({method:"post",url:u.apiConfig.base_api_host+t,data:JSON.stringify(e),timeout:3e4,headers:l(t)}).then(d).catch(function(t){return t})},get:function(t,e){return(0,r.default)({method:"get",url:u.apiConfig.base_api_host+t,params:e,timeout:3e4,headers:l(t)}).then(d).catch(function(t){return console.log(t),t})},delete:function(t,e){return(0,r.default)({method:"delete",url:u.apiConfig.base_api_host+t,params:e,timeout:3e4,headers:l(t)}).then(d).catch(function(t){return console.log(t),t})},put:function(t,e){return(0,r.default)({method:"put",url:u.apiConfig.base_api_host+t,data:JSON.stringify(e),timeout:3e4,headers:l(t)}).then(d).catch(function(t){return console.log(t),t})},formPost:function(t,e){return(0,r.default)({method:"post",url:u.apiConfig.base_api_host+t,data:i.default.stringify(e),timeout:3e4,headers:l(t)}).then(d)}};e.default=f},626:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.statusValid=void 0;var a=n(622),r=n(635);e.statusValid=function(t,e,n){return t.actionStatus&&(t.actionStatus=!1),!(e!==r.OK&&(e===r.NOT_FOUND?(t.$message({message:"请求不存在",type:"error"}),1):e===r.UNAUTHORIZED?(t.$message({message:n,type:"error"}),1):e===r.FORBIDDEN?(t.$message({message:a.timeoutText,type:"warning",duration:2e3,onClose:function(){localStorage.removeItem("malluser"),localStorage.removeItem("malltoken"),localStorage.removeItem("mallfilePath"),t.$router.replace({path:"/login"})}}),1):(t.$message({message:"服务器出错",type:"error"}),1)))}},627:function(t,e){t.exports=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};a.get||a.set?Object.defineProperty(e,n,a):e[n]=t[n]}return e.default=t,e}},640:function(t,e,n){"use strict";var a=n(91);Object.defineProperty(e,"__esModule",{value:!0}),e.deleteSpecifications=e.updateRecommend=e.editProductDetail=e.getProductDetail=e.deleteProduct=e.addProduct=e.getProductList=void 0;var r=a(n(625));e.getProductList=function(t){return r.default.get("product",t).then(function(t){return t.data})};e.addProduct=function(t){return r.default.post("admin/product",t).then(function(t){return t.data})};e.deleteProduct=function(t){return r.default.delete("admin/product/".concat(t)).then(function(t){return t.data})};e.getProductDetail=function(t){return r.default.get("product/".concat(t)).then(function(t){return t.data})};e.editProductDetail=function(t,e){return r.default.put("admin/product/".concat(t),e).then(function(t){return t.data})};e.updateRecommend=function(t,e){return r.default.put("admin/product/".concat(t,"/updateRecommend"),e).then(function(t){return t.data})};e.deleteSpecifications=function(t){return r.default.delete("admin/specifications/".concat(t)).then(function(t){return t.data})}},669:function(t,e,n){"use strict";n.r(e);var a=n(670),r=n.n(a);for(var i in a)"default"!==i&&function(t){n.d(e,t,function(){return a[t]})}(i);e.default=r.a},670:function(t,e,n){"use strict";var a=n(627);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a(n(640)),i=n(626),o=n(622),u={data:function(){return{listLoading:!0,total:0,pageSize:o.pageSize,formStatus:!1,keyWord:"",current:1,dataTable:[]}},components:{},mounted:function(){this.findlist()},methods:{findlist:function(){var t=this;this.listLoading=!0;var e={current:this.current,pageSize:o.pageSize,search:this.keyWord};r.getProductList(e).then(function(e){var n=e.data,a=e.status;(0,i.statusValid)(t,a,n)&&(t.dataTable=n.data,t.total=n.totalItems,t.listLoading=!1)})},search:function(){this.current=1,this.findlist()},add:function(){this.$router.push({path:"/shopDetail"})},handleSizeChange:function(t){},handleCurrentChange:function(t){this.current=t,this.findlist()},handleEdit:function(t,e){this.$router.push({path:"/shopDetail",query:{scree:"".concat(e.id)}})},handleDelete:function(t,e){var n=this;this.$confirm("确认删除吗?","提示",{}).then(function(){r.deleteProduct(e.id).then(function(t){var e=t.data,a=t.status;(0,i.statusValid)(n,a,e)&&(n.$message({message:"删除成功",type:"success"}),n.findlist())})}).catch(function(){})},handleRecommend:function(t,e,n){var a=this;r.updateRecommend(e.id,{recommendStatus:n}).then(function(t){var r=t.data,o=t.status;(0,i.statusValid)(a,o,r)&&(e.recommend=n)})}}};e.default=u},671:function(t,e,n){},791:function(t,e,n){"use strict";var a=n(671);n.n(a).a},919:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"cointer-box"},[n("div",{staticClass:"toolbar el-col el-col-24"},[n("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[n("el-form-item",[n("el-input",{attrs:{placeholder:"请输入关键字"},nativeOn:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.search(e):null}},model:{value:t.keyWord,callback:function(e){t.keyWord=e},expression:"keyWord"}})],1),t._v(" "),n("el-form-item",[n("el-button",{attrs:{type:"primary",size:"small"},nativeOn:{click:function(e){return e.preventDefault(),t.search(e)}}},[t._v("查询")])],1),t._v(" "),n("el-form-item",[n("el-button",{attrs:{type:"primary",size:"small"},nativeOn:{click:function(e){return e.preventDefault(),t.add(e)}}},[t._v("新增")])],1)],1)],1),t._v(" "),n("div",{staticClass:"my-table"},[n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],staticStyle:{width:"100%","margin-top":"0"},attrs:{data:t.dataTable,height:"250"}},[n("el-table-column",{staticStyle:{width:"35px"},attrs:{type:"index"}}),t._v(" "),n("el-table-column",{attrs:{prop:"title",align:"center",label:"标题"}}),t._v(" "),n("el-table-column",{attrs:{prop:"brand",align:"center",label:"品牌"}}),t._v(" "),n("el-table-column",{attrs:{prop:"type",align:"center",label:"分类"}}),t._v(" "),n("el-table-column",{attrs:{prop:"read_number",align:"center",label:"浏览次数"}}),t._v(" "),n("el-table-column",{attrs:{label:"操作",align:"center",width:"350"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(n){t.handleEdit(e.$index,e.row)}}},[t._v("编辑")]),t._v(" "),n("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(n){t.handleDelete(e.$index,e.row)}}},[t._v("删除")]),t._v(" "),0===e.row.recommend?n("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(n){t.handleRecommend(e.$index,e.row,1)}}},[t._v("推荐商品")]):n("el-button",{attrs:{size:"mini",type:"warning"},on:{click:function(n){t.handleRecommend(e.$index,e.row,0)}}},[t._v("取消推荐")])]}}])})],1),t._v(" "),n("el-pagination",{staticStyle:{height:"31px"},attrs:{background:"","page-size":t.pageSize,total:t.total,layout:"total, prev, pager, next"},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)])},r=[];a._withStripped=!0,n.d(e,"a",function(){return a}),n.d(e,"b",function(){return r})}}]);