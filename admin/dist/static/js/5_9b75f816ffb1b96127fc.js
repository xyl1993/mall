(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{271:function(t,n,e){"use strict";e.d(n,"a",function(){return a}),e.d(n,"b",function(){return r});const a=10,r="登录过期，请重新登录"},274:function(t,n,e){"use strict";var a=e(280),r=e.n(a),s=e(281),o=e.n(s),i=e(282),l=e.n(i),c=e(49);const u=new RegExp(c.a.allowUrls),d=new RegExp(c.a.noJsonTypeUrls);function p(t){if(!u.test(t)){let n=localStorage.getItem("malltoken");return d.test(t)?{token:n}:{token:n,"Content-Type":"application/json;charset=UTF-8"}}return d.test(t)?{}:{"Content-Type":"application/json;charset=UTF-8"}}function m(t){return l.a.done(),{data:{status:t.status,data:t.data}}}r.a.interceptors.request.use(t=>(l.a.start(),t),t=>Promise.reject(t)),r.a.interceptors.response.use(t=>t,t=>Promise.resolve(t.response)),n.a={post:(t,n)=>r()({method:"post",url:c.a.base_api_host+t,data:JSON.stringify(n),timeout:3e4,headers:p(t)}).then(m).catch(function(t){return t}),get:(t,n)=>r()({method:"get",url:c.a.base_api_host+t,params:n,timeout:3e4,headers:p(t)}).then(m).catch(function(t){return console.log(t),t}),delete:(t,n)=>r()({method:"delete",url:c.a.base_api_host+t,params:n,timeout:3e4,headers:p(t)}).then(m).catch(function(t){return console.log(t),t}),put:(t,n)=>r()({method:"put",url:c.a.base_api_host+t,data:JSON.stringify(n),timeout:3e4,headers:p(t)}).then(m).catch(function(t){return console.log(t),t}),formPost:(t,n)=>r()({method:"post",url:c.a.base_api_host+t,data:o.a.stringify(n),timeout:3e4,headers:p(t)}).then(m)}},275:function(t,n,e){"use strict";e.d(n,"a",function(){return s});var a=e(271);const r=e(283),s=(t,n,e)=>(t.actionStatus&&(t.actionStatus=!1),n===r.OK||(n===r.NOT_FOUND?(t.$message({message:"请求不存在",type:"error"}),!1):n===r.UNAUTHORIZED?(t.$message({message:e,type:"error"}),!1):n===r.FORBIDDEN?(t.$message({message:a.b,type:"warning",duration:2e3,onClose:()=>{localStorage.removeItem("malluser"),localStorage.removeItem("malltoken"),localStorage.removeItem("mallfilePath"),t.$router.replace({path:"/login"})}}),!1):(t.$message({message:"服务器出错",type:"error"}),!1)))},288:function(t,n,e){"use strict";e.d(n,"f",function(){return r}),e.d(n,"a",function(){return s}),e.d(n,"b",function(){return o}),e.d(n,"e",function(){return i}),e.d(n,"d",function(){return l}),e.d(n,"g",function(){return c}),e.d(n,"c",function(){return u});var a=e(274);const r=t=>a.a.get("product",t).then(t=>t.data),s=t=>a.a.post("admin/product",t).then(t=>t.data),o=t=>a.a.delete(`admin/product/${t}`).then(t=>t.data),i=t=>a.a.get(`product/${t}`).then(t=>t.data),l=(t,n)=>a.a.put(`admin/product/${t}`,n).then(t=>t.data),c=(t,n)=>a.a.put(`admin/product/${t}/updateRecommend`,n).then(t=>t.data),u=t=>a.a.delete(`admin/specifications/${t}`).then(t=>t.data)},307:function(t,n,e){var a=e(410);"string"==typeof a&&(a=[[t.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};e(195)(a,r);a.locals&&(t.exports=a.locals)},409:function(t,n,e){"use strict";var a=e(307);e.n(a).a},410:function(t,n,e){(t.exports=e(194)(!0)).push([t.i,"\n.el-form-item[data-v-04c2f061] {\n  margin-bottom: 0;\n}\n","",{version:3,sources:["E:/gitWork/mall/mall-admin/src/app/views/shopManage/shop/E:/gitWork/mall/mall-admin/src/app/views/shopManage/shop/shopList.vue"],names:[],mappings:";AA6HA;EACE,iBAAgB;CACjB",file:"shopList.vue?vue&type=style&index=0&id=04c2f061&lang=scss&scoped=true&",sourcesContent:["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\n.el-form-item {\r\n  margin-bottom: 0;\r\n}\r\n"],sourceRoot:""}])},546:function(t,n,e){"use strict";e.r(n);var a=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"cointer-box"},[e("div",{staticClass:"toolbar el-col el-col-24"},[e("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[e("el-form-item",[e("el-input",{attrs:{placeholder:"请输入关键字"},nativeOn:{keyup:function(n){return"button"in n||!t._k(n.keyCode,"enter",13,n.key,"Enter")?t.search(n):null}},model:{value:t.keyWord,callback:function(n){t.keyWord=n},expression:"keyWord"}})],1),t._v(" "),e("el-form-item",[e("el-button",{attrs:{type:"primary",size:"small"},nativeOn:{click:function(n){return n.preventDefault(),t.search(n)}}},[t._v("查询")])],1),t._v(" "),e("el-form-item",[e("el-button",{attrs:{type:"primary",size:"small"},nativeOn:{click:function(n){return n.preventDefault(),t.add(n)}}},[t._v("新增")])],1)],1)],1),t._v(" "),e("div",{staticClass:"my-table"},[e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],staticStyle:{width:"100%","margin-top":"0"},attrs:{data:t.dataTable,height:"250"}},[e("el-table-column",{staticStyle:{width:"35px"},attrs:{type:"index"}}),t._v(" "),e("el-table-column",{attrs:{prop:"title",align:"center",label:"标题"}}),t._v(" "),e("el-table-column",{attrs:{prop:"brand",align:"center",label:"品牌"}}),t._v(" "),e("el-table-column",{attrs:{prop:"type",align:"center",label:"分类"}}),t._v(" "),e("el-table-column",{attrs:{prop:"read_number",align:"center",label:"浏览次数"}}),t._v(" "),e("el-table-column",{attrs:{label:"操作",align:"center",width:"350"},scopedSlots:t._u([{key:"default",fn:function(n){return[e("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(e){t.handleEdit(n.$index,n.row)}}},[t._v("编辑")]),t._v(" "),e("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(e){t.handleDelete(n.$index,n.row)}}},[t._v("删除")]),t._v(" "),0===n.row.recommend?e("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(e){t.handleRecommend(n.$index,n.row,1)}}},[t._v("推荐商品")]):e("el-button",{attrs:{size:"mini",type:"warning"},on:{click:function(e){t.handleRecommend(n.$index,n.row,0)}}},[t._v("取消推荐")])]}}])})],1),t._v(" "),e("el-pagination",{staticStyle:{height:"31px"},attrs:{background:"","page-size":t.pageSize,total:t.total,layout:"total, prev, pager, next"},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)])};a._withStripped=!0;var r=e(288),s=e(275),o=e(271),i={data:()=>({listLoading:!0,total:0,pageSize:o.a,formStatus:!1,keyWord:"",current:1,dataTable:[]}),components:{},mounted(){this.findlist()},methods:{findlist(){this.listLoading=!0;let t={current:this.current,pageSize:o.a,search:this.keyWord};r.f(t).then(t=>{let{data:n,status:e}=t;Object(s.a)(this,e,n)&&(this.dataTable=n.data,this.total=n.totalItems,this.listLoading=!1)})},search(){this.current=1,this.findlist()},add(){this.$router.push({path:"/shopDetail"})},handleSizeChange(t){},handleCurrentChange(t){this.current=t,this.findlist()},handleEdit(t,n){this.$router.push({path:"/shopDetail",query:{scree:`${n.id}`}})},handleDelete(t,n){var e=this;this.$confirm("确认删除吗?","提示",{}).then(()=>{r.b(n.id).then(t=>{let{data:n,status:a}=t;Object(s.a)(e,a,n)&&(e.$message({message:"删除成功",type:"success"}),e.findlist())})}).catch(()=>{})},handleRecommend(t,n,e){r.g(n.id,{recommendStatus:e}).then(t=>{let{data:a,status:r}=t;Object(s.a)(this,r,a)&&(n.recommend=e)})}}},l=(e(409),e(48)),c=Object(l.a)(i,a,[],!1,null,"04c2f061",null);c.options.__file="src/app/views/shopManage/shop/shopList.vue";n.default=c.exports}}]);