(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{271:function(n,t,e){"use strict";e.d(t,"a",function(){return a}),e.d(t,"b",function(){return r});const a=10,r="登录过期，请重新登录"},274:function(n,t,e){"use strict";var a=e(280),r=e.n(a),i=e(281),s=e.n(i),o=e(282),l=e.n(o),d=e(49);const c=new RegExp(d.a.allowUrls),p=new RegExp(d.a.noJsonTypeUrls);function u(n){if(!c.test(n)){let t=localStorage.getItem("malltoken");return p.test(n)?{token:t}:{token:t,"Content-Type":"application/json;charset=UTF-8"}}return p.test(n)?{}:{"Content-Type":"application/json;charset=UTF-8"}}function A(n){return l.a.done(),{data:{status:n.status,data:n.data}}}r.a.interceptors.request.use(n=>(l.a.start(),n),n=>Promise.reject(n)),r.a.interceptors.response.use(n=>n,n=>Promise.resolve(n.response)),t.a={post:(n,t)=>r()({method:"post",url:d.a.base_api_host+n,data:JSON.stringify(t),timeout:3e4,headers:u(n)}).then(A).catch(function(n){return n}),get:(n,t)=>r()({method:"get",url:d.a.base_api_host+n,params:t,timeout:3e4,headers:u(n)}).then(A).catch(function(n){return console.log(n),n}),delete:(n,t)=>r()({method:"delete",url:d.a.base_api_host+n,params:t,timeout:3e4,headers:u(n)}).then(A).catch(function(n){return console.log(n),n}),put:(n,t)=>r()({method:"put",url:d.a.base_api_host+n,data:JSON.stringify(t),timeout:3e4,headers:u(n)}).then(A).catch(function(n){return console.log(n),n}),formPost:(n,t)=>r()({method:"post",url:d.a.base_api_host+n,data:s.a.stringify(t),timeout:3e4,headers:u(n)}).then(A)}},275:function(n,t,e){"use strict";e.d(t,"a",function(){return i});var a=e(271);const r=e(283),i=(n,t,e)=>(n.actionStatus&&(n.actionStatus=!1),t===r.OK||(t===r.NOT_FOUND?(n.$message({message:"请求不存在",type:"error"}),!1):t===r.UNAUTHORIZED?(n.$message({message:e,type:"error"}),!1):t===r.FORBIDDEN?(n.$message({message:a.b,type:"warning",duration:2e3,onClose:()=>{localStorage.removeItem("malluser"),localStorage.removeItem("malltoken"),localStorage.removeItem("mallfilePath"),n.$router.replace({path:"/login"})}}),!1):(n.$message({message:"服务器出错",type:"error"}),!1)))},288:function(n,t,e){"use strict";e.d(t,"f",function(){return r}),e.d(t,"a",function(){return i}),e.d(t,"b",function(){return s}),e.d(t,"e",function(){return o}),e.d(t,"d",function(){return l}),e.d(t,"g",function(){return d}),e.d(t,"c",function(){return c});var a=e(274);const r=n=>a.a.get("product",n).then(n=>n.data),i=n=>a.a.post("admin/product",n).then(n=>n.data),s=n=>a.a.delete(`admin/product/${n}`).then(n=>n.data),o=n=>a.a.get(`product/${n}`).then(n=>n.data),l=(n,t)=>a.a.put(`admin/product/${n}`,t).then(n=>n.data),d=(n,t)=>a.a.put(`admin/product/${n}/updateRecommend`,t).then(n=>n.data),c=n=>a.a.delete(`admin/specifications/${n}`).then(n=>n.data)},308:function(n,t,e){"use strict";e.d(t,"e",function(){return r}),e.d(t,"a",function(){return i}),e.d(t,"c",function(){return s}),e.d(t,"g",function(){return o}),e.d(t,"f",function(){return l}),e.d(t,"b",function(){return d}),e.d(t,"d",function(){return c}),e.d(t,"h",function(){return p});var a=e(274);const r=n=>a.a.get("brand",n).then(n=>n.data),i=n=>a.a.post("admin/brand",n).then(n=>n.data),s=n=>a.a.delete(`admin/brand/${n}`).then(n=>n.data),o=(n,t)=>a.a.put(`admin/brand/${n}`,t).then(n=>n.data),l=n=>a.a.get("goods-type",n).then(n=>n.data),d=n=>a.a.post("admin/goods-type",n).then(n=>n.data),c=n=>a.a.delete(`admin/goods-type/${n}`).then(n=>n.data),p=(n,t)=>a.a.put(`admin/goods-type/${n}`,t).then(n=>n.data)},311:function(n,t,e){var a=e(425);"string"==typeof a&&(a=[[n.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};e(195)(a,r);a.locals&&(n.exports=a.locals)},424:function(n,t,e){"use strict";var a=e(311);e.n(a).a},425:function(n,t,e){(n.exports=e(194)(!0)).push([n.i,"\n.el-table[data-v-70e28c9a] {\n  margin-bottom: 0;\n}\n.cointer-box[data-v-70e28c9a] {\n  display: flex;\n  flex-direction: row;\n  height: 100%;\n  border: 1px solid #ddd;\n}\n.brand-content[data-v-70e28c9a], .goods-content[data-v-70e28c9a], .type-content[data-v-70e28c9a] {\n  display: flex;\n  flex-direction: column;\n}\n.brand-content[data-v-70e28c9a], .type-content[data-v-70e28c9a] {\n  width: 300px;\n}\n.goods-content[data-v-70e28c9a] {\n  flex: 1;\n  overflow: auto;\n}\n.danger[data-v-70e28c9a] {\n  color: #F56C6C;\n}\n.header[data-v-70e28c9a] {\n  height: 35px;\n  background: #157fcc;\n  color: #fff;\n  display: flex;\n  align-items: center;\n  padding-left: 15px;\n  border-right: 1px solid #ddd;\n  justify-content: space-between;\n  padding-right: 15px;\n}\n.header .el-button--text[data-v-70e28c9a] {\n    color: #fff;\n}\n.brand-cointer[data-v-70e28c9a] {\n  padding-top: 20px;\n  width: 100%;\n}\n.brand-table[data-v-70e28c9a] {\n  height: 100%;\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  border-right: 1px solid #ddd;\n}\n.goods-cointer[data-v-70e28c9a] {\n  flex: 1;\n  width: 100%;\n  overflow: auto;\n}\n.goods-ul li[data-v-70e28c9a] {\n  list-style: none;\n  width: 190px;\n  height: auto;\n  float: left;\n}\n.goods-ul .card[data-v-70e28c9a] {\n  padding: 15px;\n}\n.goods-ul .img-base[data-v-70e28c9a] {\n  width: 100%;\n  height: 160px;\n  display: flex;\n  align-items: center;\n  border: 1px solid #ddd;\n  background-size: cover;\n  position: relative;\n}\n.goods-ul .img-base img[data-v-70e28c9a] {\n    width: 100%;\n    height: auto;\n    max-height: 100%;\n}\n.goods-ul .card-bottom[data-v-70e28c9a] {\n  padding: 10px 15px 15px 5px;\n}\n.goods-ul .card-bottom span[data-v-70e28c9a] {\n    display: block;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n}\n.goods-ul .time[data-v-70e28c9a] {\n  font-size: 13px;\n  color: #999;\n}\n.goods-ul .bottom[data-v-70e28c9a] {\n  margin-top: 13px;\n  line-height: 12px;\n}\n.goods-ul .button[data-v-70e28c9a] {\n  padding: 0;\n  float: right;\n}\n.el-icon-star-on[data-v-70e28c9a] {\n  color: #F56C6C;\n  position: absolute;\n  font-size: 26px;\n  top: 0;\n  right: 0;\n}\n","",{version:3,sources:["E:/gitWork/mall/mall-admin/src/app/views/shopManage/brand/E:/gitWork/mall/mall-admin/src/app/views/shopManage/brand/brand.vue"],names:[],mappings:";AA6XA;EACE,iBAAgB;CACjB;AACD;EACE,cAAa;EACb,oBAAmB;EACnB,aAAY;EACZ,uBAAsB;CACvB;AACD;EACE,cAAa;EACb,uBAAsB;CACvB;AACD;EACE,aAAY;CACb;AACD;EACE,QAAO;EACP,eAAc;CACf;AACD;EACE,eAAa;CACd;AACD;EACE,aAAY;EACZ,oBAAmB;EACnB,YAAW;EACX,cAAa;EACb,oBAAmB;EACnB,mBAAkB;EAClB,6BAA4B;EAC5B,+BAA8B;EAC9B,oBAAmB;CAIpB;AAbD;IAWI,YAAW;CACZ;AAEH;EACE,kBAAiB;EACjB,YAAW;CACZ;AACD;EACE,aAAY;EACZ,QAAO;EACP,cAAa;EACb,uBAAsB;EACtB,6BAA4B;CAC7B;AACD;EACE,QAAO;EACP,YAAW;EACX,eAAc;CACf;AACD;EAEI,iBAAgB;EAChB,aAAY;EACZ,aAAY;EACZ,YAAW;CACZ;AANH;EAQI,cAAa;CACd;AATH;EAWI,YAAW;EACX,cAAa;EACb,cAAa;EACb,oBAAmB;EACnB,uBAAsB;EACtB,uBAAsB;EACtB,mBAAkB;CAMnB;AAvBH;IAmBM,YAAW;IACX,aAAY;IACZ,iBAAgB;CACjB;AAtBL;EAyBI,4BAA2B;CAO5B;AAhCH;IA2BM,eAAc;IACd,iBAAgB;IAChB,wBAAuB;IACvB,oBAAmB;CACpB;AA/BL;EAkCI,gBAAe;EACf,YAAW;CACZ;AApCH;EAsCI,iBAAgB;EAChB,kBAAiB;CAClB;AAxCH;EA0CI,WAAU;EACV,aAAY;CACb;AAEH;EACE,eAAc;EACd,mBAAkB;EAClB,gBAAe;EACf,OAAM;EACN,SAAQ;CACT",file:"brand.vue?vue&type=style&index=0&id=70e28c9a&lang=scss&scoped=true&",sourcesContent:["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\n.el-table{\r\n  margin-bottom: 0;\r\n}\r\n.cointer-box {\r\n  display: flex;\r\n  flex-direction: row;\r\n  height: 100%;\r\n  border: 1px solid #ddd;\r\n}\r\n.brand-content,.goods-content,.type-content{\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n.brand-content,.type-content {\r\n  width: 300px;\r\n}\r\n.goods-content{\r\n  flex: 1;\r\n  overflow: auto;\r\n}\r\n.danger{\r\n  color:#F56C6C;\r\n}\r\n.header {\r\n  height: 35px;\r\n  background: #157fcc;\r\n  color: #fff;\r\n  display: flex;\r\n  align-items: center;\r\n  padding-left: 15px;\r\n  border-right: 1px solid #ddd;\r\n  justify-content: space-between;\r\n  padding-right: 15px;\r\n  .el-button--text {\r\n    color: #fff;\r\n  }\r\n}\r\n.brand-cointer {\r\n  padding-top: 20px;\r\n  width: 100%;\r\n}\r\n.brand-table {\r\n  height: 100%;\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  border-right: 1px solid #ddd;\r\n}\r\n.goods-cointer{\r\n  flex: 1;\r\n  width: 100%;\r\n  overflow: auto;\r\n}\r\n.goods-ul{\r\n  li{\r\n    list-style: none;\r\n    width: 190px;\r\n    height: auto;\r\n    float: left;\r\n  }\r\n  .card{\r\n    padding: 15px;\r\n  }\r\n  .img-base{\r\n    width: 100%;\r\n    height: 160px;\r\n    display: flex;\r\n    align-items: center;\r\n    border: 1px solid #ddd;\r\n    background-size: cover;\r\n    position: relative;\r\n    img{\r\n      width: 100%;\r\n      height: auto;\r\n      max-height: 100%;\r\n    }\r\n  }\r\n  .card-bottom{\r\n    padding: 10px 15px 15px 5px;\r\n    span{\r\n      display: block;\r\n      overflow: hidden;\r\n      text-overflow: ellipsis;\r\n      white-space: nowrap;\r\n    }\r\n  }\r\n  .time {\r\n    font-size: 13px;\r\n    color: #999;\r\n  }\r\n  .bottom {\r\n    margin-top: 13px;\r\n    line-height: 12px;\r\n  }\r\n  .button {\r\n    padding: 0;\r\n    float: right;\r\n  }\r\n}\r\n.el-icon-star-on{\r\n  color: #F56C6C;\r\n  position: absolute;\r\n  font-size: 26px;\r\n  top: 0;\r\n  right: 0;\r\n}\r\n"],sourceRoot:""}])},549:function(n,t,e){"use strict";e.r(t);var a=function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",{staticClass:"brand-cointer"},[e("div",{staticClass:"cointer-box"},[e("div",{staticClass:"brand-content"},[e("div",{staticClass:"header"},[e("div",[n._v("品牌")]),n._v(" "),e("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(t){t.preventDefault(),n.addBrand()}}},[n._v("\n          新增\n        ")])],1),n._v(" "),e("div",{staticClass:"brand-table"},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:n.brandList,height:"250","highlight-current-row":""},on:{"current-change":n.brandChange}},[e("el-table-column",{attrs:{prop:"name",align:"center",label:"名称",width:"150"}}),n._v(" "),e("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:n._u([{key:"default",fn:function(t){return[e("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(e){e.preventDefault(),n.editBrand(t.$index,t.row)}}},[n._v("\n                编辑\n              ")]),n._v(" "),e("el-button",{staticClass:"danger",attrs:{type:"text",size:"small"},nativeOn:{click:function(e){e.preventDefault(),n.deleteBrand(t.$index,t.row,n.brandList)}}},[n._v("\n                删除\n              ")])]}}])})],1)],1)]),n._v(" "),e("div",{staticClass:"type-content"},[e("div",{staticClass:"header"},[e("div",[n._v("类型")]),n._v(" "),e("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(t){t.preventDefault(),n.addType()}}},[n._v("\n          新增\n        ")])],1),n._v(" "),e("div",{staticClass:"brand-table"},[e("el-table",{ref:"brandTable",staticStyle:{width:"100%"},attrs:{data:n.typeList,height:"250","highlight-current-row":""},on:{"current-change":n.typeChange}},[e("el-table-column",{attrs:{prop:"name",label:"名称",width:"150",align:"center"}}),n._v(" "),e("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:n._u([{key:"default",fn:function(t){return[e("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(e){e.preventDefault(),n.editType(t.$index,t.row)}}},[n._v("\n                编辑\n              ")]),n._v(" "),e("el-button",{staticClass:"danger",attrs:{type:"text",size:"small"},nativeOn:{click:function(e){e.preventDefault(),n.deleteType(t.$index,t.row,n.typeList)}}},[n._v("\n                删除\n              ")])]}}])})],1)],1)]),n._v(" "),e("div",{staticClass:"goods-content"},[e("div",{staticClass:"header"},[e("div",[n._v("商品")]),n._v(" "),e("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(t){t.preventDefault(),n.editProduct()}}},[n._v("\n          新增\n        ")])],1),n._v(" "),e("div",{staticClass:"goods-content"},[e("ul",{staticClass:"goods-ul clear"},n._l(n.productList,function(t,a){return e("li",{key:a},[e("div",{staticClass:"card"},[e("el-card",{attrs:{"body-style":{padding:"0px"}}},[e("div",{staticClass:"img-base",style:{"background-image":"url("+(n.filePath+t.cover)+")"}},[1===t.recommend?e("i",{staticClass:"el-icon-star-on"}):n._e()]),n._v(" "),e("div",{staticClass:"card-bottom"},[e("span",[n._v(n._s(t.title))]),n._v(" "),e("div",{staticClass:"bottom clear"},[e("time",{staticClass:"time"},[n._v(n._s(n._f("dateFilter")(t.create_time)))]),n._v(" "),e("el-button",{staticClass:"button",attrs:{type:"text"},nativeOn:{click:function(e){e.preventDefault(),n.editProduct(t.id)}}},[n._v("修改")])],1)])])],1)])}))])])]),n._v(" "),e("el-dialog",{attrs:{title:"品牌编辑",width:"60%",visible:n.brandStatus},on:{"update:visible":function(t){n.brandStatus=t},close:n.formClose}},[e("el-form",{ref:"brandForm",staticClass:"dialog-form",attrs:{model:n.brandModel,rules:n.brandRules}},[e("el-form-item",{attrs:{label:"名称","label-width":"120px",prop:"name"}},[e("el-input",{staticStyle:{width:"70%","max-width":"400px"},model:{value:n.brandModel.name,callback:function(t){n.$set(n.brandModel,"name",t)},expression:"brandModel.name"}})],1),n._v(" "),e("div",{staticClass:"formModel el-form-item clear",staticStyle:{position:"relative","padding-left":"120px"}},[e("label",{staticClass:"el-form-item__label",staticStyle:{width:"120px",position:"absolute",left:"0"}},[n._v("缩略图")]),n._v(" "),e("div",{},[e("el-upload",{staticClass:"avatar-uploader",attrs:{headers:n.headers,"show-file-list":!1,accept:"image/*",action:n.sealImgAction,"on-success":n.handleAvatarSuccess}},[n.imgUrl?e("img",{staticClass:"avatar",attrs:{src:n.imgUrl}}):e("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)])],1),n._v(" "),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(t){n.cancelBrand()}}},[n._v("取 消")]),n._v(" "),e("el-button",{attrs:{type:"primary"},on:{click:function(t){n.sureBrand()}}},[n._v("确 定")])],1)],1),n._v(" "),e("el-dialog",{attrs:{title:"类型编辑",width:"60%",visible:n.typeStatus},on:{"update:visible":function(t){n.typeStatus=t},close:n.formClose}},[e("el-form",{ref:"typeForm",staticClass:"dialog-form",attrs:{model:n.typeModel,rules:n.typeRules}},[e("el-form-item",{attrs:{label:"品牌","label-width":"120px",prop:"name"}},[e("el-select",{staticStyle:{width:"70%","max-width":"400px"},attrs:{filterable:"",placeholder:"请选择"},model:{value:n.typeModel.brand_id,callback:function(t){n.$set(n.typeModel,"brand_id",t)},expression:"typeModel.brand_id"}},n._l(n.brandList,function(n){return e("el-option",{key:n.id,attrs:{label:n.name,value:n.id}})}))],1),n._v(" "),e("el-form-item",{attrs:{label:"名称","label-width":"120px",prop:"name"}},[e("el-input",{staticStyle:{width:"70%","max-width":"400px"},model:{value:n.typeModel.name,callback:function(t){n.$set(n.typeModel,"name",t)},expression:"typeModel.name"}})],1),n._v(" "),e("div",{staticClass:"formModel el-form-item clear",staticStyle:{position:"relative","padding-left":"120px"}},[e("label",{staticClass:"el-form-item__label",staticStyle:{width:"120px",position:"absolute",left:"0"}},[n._v("缩略图")]),n._v(" "),e("div",{},[e("el-upload",{staticClass:"avatar-uploader",attrs:{headers:n.headers,"show-file-list":!1,accept:"image/*",action:n.sealImgAction,"on-success":n.handleTypeSuccess}},[n.imgTypeUrl?e("img",{staticClass:"avatar",attrs:{src:n.imgTypeUrl}}):e("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)])],1),n._v(" "),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(t){n.cancelType()}}},[n._v("取 消")]),n._v(" "),e("el-button",{attrs:{type:"primary"},on:{click:function(t){n.sureType()}}},[n._v("确 定")])],1)],1),n._v(" "),e("el-dialog",{attrs:{visible:n.dialogVisible},on:{"update:visible":function(t){n.dialogVisible=t}}},[e("img",{attrs:{width:"100%",src:n.dialogImageUrl,alt:""}})])],1)};a._withStripped=!0;var r=e(308),i=e(288),s=e(275),o=e(49);e(271);e(0);var l,d={data:()=>({filePath:"",imgUrl:"",imgTypeUrl:"",brandList:[],typeList:[],shopList:[],productList:[],brandStatus:!1,typeStatus:!1,brandModel:{},typeModel:{brand_id:""},selBrandId:"",selTypeId:"",headers:{},dialogVisible:!1,dialogImageUrl:"",sealImgAction:`${o.a.base_api_host}admin/uploadDisk`,brandRules:{name:[{required:!0,message:"请输入名称",trigger:"blur"}]},typeRules:{name:[{required:!0,message:"请输入名称",trigger:"blur"}],brand_id:[{required:!0,message:"请选择品牌",trigger:"blur"}]}}),computed:{},components:{},mounted(){l=this.$loading({target:".content-container",lock:!0,background:"rgba(255, 255, 255, 0.74)"}),this.filePath=localStorage.getItem("mallfilePath");const n=localStorage.getItem("malltoken");this.headers={token:n},this.getBrandList(),this.getTypeList(),this.getProductList()},filters:{},methods:{getBrandList(){const n=this;r.e().then(function(t){const{data:e,status:a}=t;Object(s.a)(n,a,e)&&(n.brandList=e)})},deleteBrand(n,t,e){const a=this;this.$confirm("将同时删除对应的商品，确认删除吗?","提示",{}).then(()=>{r.c(t.id).then(function(t){const{data:r,status:i}=t;Object(s.a)(a,i,r)&&e.splice(n,1)})}).catch(()=>{})},deleteType(n,t,e){const a=this;this.$confirm("将同时删除对应的商品，确认删除吗?","提示",{}).then(()=>{r.d(t.id).then(function(t){const{data:r,status:i}=t;Object(s.a)(a,i,r)&&e.splice(n,1)})})},getTypeList(){const n=this;let t={brand_id:this.selBrandId};r.f(t).then(function(t){const{data:e,status:a}=t;Object(s.a)(n,a,e)&&(n.typeList=e)})},getProductList(){const n=this;let t={brand_id:this.selBrandId,type_id:this.selTypeId};Object(i.f)(t).then(function(t){const{data:e,status:a}=t;Object(s.a)(n,a,e)&&(l.close(),n.productList=e.data)})},addBrand(){this.brandStatus=!0,this.imgUrl="",this.brandModel={}},editBrand(n,t){this.brandModel=t,this.imgUrl=t.cover?this.filePath+t.cover:"",this.brandStatus=!0},addType(){this.typeModel={brand_id:this.selBrandId},this.imgTypeUrl="",this.typeStatus=!0},editType(n,t){this.imgTypeUrl=t.cover?this.filePath+t.cover:"",this.typeModel=t,this.typeStatus=!0},cancelBrand(){this.brandStatus=!1},sureBrand(){const n=this;this.$refs.brandForm.validate(t=>{if(t){let t=n.brandModel;t.id?r.g(t.id,t).then(t=>{const{data:e,status:a}=t;Object(s.a)(n,a,e)}):r.a(t).then(t=>{const{data:e,status:a}=t;Object(s.a)(n,a,e)&&n.getBrandList()}),n.brandStatus=!1}})},cancelType(){this.typeStatus=!1},sureType(){const n=this;this.$refs.typeForm.validate(t=>{if(t){let t=n.typeModel;t.id?r.h(t.id,t).then(t=>{const{data:e,status:a}=t;Object(s.a)(n,a,e)}):r.b(t).then(t=>{const{data:e,status:a}=t;Object(s.a)(n,a,e)&&n.getTypeList()}),n.typeStatus=!1}})},brandChange(n){n?(this.selBrandId=n.id,this.$refs.brandTable.setCurrentRow()):this.selBrandId="",this.getTypeList()},typeChange(n){this.selTypeId=n?n.id:"",this.getProductList()},formClose(){this.$refs.typeForm&&this.$refs.typeForm.clearValidate(),this.$refs.brandForm&&this.$refs.brandForm.clearValidate()},editProduct(n){n?this.$router.push({path:"/shopDetail",query:{scree:n}}):this.$router.push({path:"/shopDetail"})},handleAvatarSuccess(n,t){this.imgUrl=URL.createObjectURL(t.raw),this.brandModel.cover=n},handleTypeSuccess(n,t){this.imgTypeUrl=URL.createObjectURL(t.raw),this.typeModel.cover=n}}},c=(e(424),e(48)),p=Object(c.a)(d,a,[],!1,null,"70e28c9a",null);p.options.__file="src/app/views/shopManage/brand/brand.vue";t.default=p.exports}}]);