(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{271:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return s});const a=10,s="登录过期，请重新登录"},274:function(e,t,n){"use strict";var a=n(280),s=n.n(a),o=n(281),i=n.n(o),r=n(282),l=n.n(r),c=n(49);const u=new RegExp(c.a.allowUrls),d=new RegExp(c.a.noJsonTypeUrls);function p(e){if(!u.test(e)){let t=localStorage.getItem("malltoken");return d.test(e)?{token:t}:{token:t,"Content-Type":"application/json;charset=UTF-8"}}return d.test(e)?{}:{"Content-Type":"application/json;charset=UTF-8"}}function m(e){return l.a.done(),{data:{status:e.status,data:e.data}}}s.a.interceptors.request.use(e=>(l.a.start(),e),e=>Promise.reject(e)),s.a.interceptors.response.use(e=>e,e=>Promise.resolve(e.response)),t.a={post:(e,t)=>s()({method:"post",url:c.a.base_api_host+e,data:JSON.stringify(t),timeout:3e4,headers:p(e)}).then(m).catch(function(e){return e}),get:(e,t)=>s()({method:"get",url:c.a.base_api_host+e,params:t,timeout:3e4,headers:p(e)}).then(m).catch(function(e){return console.log(e),e}),delete:(e,t)=>s()({method:"delete",url:c.a.base_api_host+e,params:t,timeout:3e4,headers:p(e)}).then(m).catch(function(e){return console.log(e),e}),put:(e,t)=>s()({method:"put",url:c.a.base_api_host+e,data:JSON.stringify(t),timeout:3e4,headers:p(e)}).then(m).catch(function(e){return console.log(e),e}),formPost:(e,t)=>s()({method:"post",url:c.a.base_api_host+e,data:i.a.stringify(t),timeout:3e4,headers:p(e)}).then(m)}},275:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var a=n(271);const s=n(283),o=(e,t,n)=>(e.actionStatus&&(e.actionStatus=!1),t===s.OK||(t===s.NOT_FOUND?(e.$message({message:"请求不存在",type:"error"}),!1):t===s.UNAUTHORIZED?(e.$message({message:n,type:"error"}),!1):t===s.FORBIDDEN?(e.$message({message:a.b,type:"warning",duration:2e3,onClose:()=>{localStorage.removeItem("malluser"),localStorage.removeItem("malltoken"),localStorage.removeItem("mallfilePath"),e.$router.replace({path:"/login"})}}),!1):(e.$message({message:"服务器出错",type:"error"}),!1)))},313:function(e,t,n){var a=n(429);"string"==typeof a&&(a=[[e.i,a,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};n(195)(a,s);a.locals&&(e.exports=a.locals)},428:function(e,t,n){"use strict";var a=n(313);n.n(a).a},429:function(e,t,n){(e.exports=n(194)(!0)).push([e.i,"\n.cointer[data-v-19235d0e] {\n  padding-top: 20px;\n  height: 100%;\n  width: 100%;\n}\n","",{version:3,sources:["E:/gitWork/mall/mall-admin/src/app/views/homeSetting/carousel/E:/gitWork/mall/mall-admin/src/app/views/homeSetting/carousel/carousel.vue"],names:[],mappings:";AA6FA;EACE,kBAAiB;EACjB,aAAY;EACZ,YAAW;CACZ",file:"carousel.vue?vue&type=style&index=0&id=19235d0e&lang=scss&scoped=true&",sourcesContent:["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\n.cointer{\r\n  padding-top: 20px;\r\n  height: 100%;\r\n  width: 100%;\r\n}\r\n"],sourceRoot:""}])},541:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"cointer"},[n("el-upload",{attrs:{headers:e.headers,"list-type":"picture-card",accept:"image/*",action:e.sealImgAction,"file-list":e.fileList,"on-preview":e.handlePictureCardPreview,"on-remove":e.onSignImgRemove,"on-success":e.signUploadSuccess}},[n("i",{staticClass:"el-icon-plus"})]),e._v(" "),n("el-dialog",{attrs:{visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[n("img",{attrs:{width:"100%",src:e.dialogImageUrl,alt:""}})])],1)};a._withStripped=!0;var s=n(274);var o,i=n(275),r=n(49),l=(n(271),{data:()=>({carouselList:[],fileList:[],headers:{},token:"",dialogImageUrl:"",dialogVisible:!1,sealImgAction:`${r.a.base_api_host}admin/uploadDisk`}),computed:{},components:{},mounted(){const e=localStorage.getItem("malltoken");this.headers={token:e},this.filePath=localStorage.getItem("mallfilePath"),this.getCarouselList()},methods:{getCarouselList(){o=this.$loading({target:".content-container",lock:!0,background:"rgba(255, 255, 255, 0.74)"});const e=this;s.a.get("carousel").then(e=>e.data).then(t=>{const{data:n,status:a}=t;Object(i.a)(e,a,n)&&(e.carouselList=n,n.map((t,n)=>{e.fileList.push({url:this.filePath+t.url})}),o.close())})},handlePictureCardPreview(e){this.dialogImageUrl=e.url,this.dialogVisible=!0},onSignImgRemove(e,t){var n=e.url.split("/"),a=n[n.length-1].split(".")[0];console.log(a),(e=>s.a.delete(`admin/carousel/${e}`).then(e=>e.data))(a).then(e=>{})},signUploadSuccess(e,t){(e=>s.a.post("admin/carousel",e).then(e=>e.data))({url:e}).then(e=>{const{data:t,status:n}=e;Object(i.a)(this,n,t)})}}}),c=(n(428),n(48)),u=Object(c.a)(l,a,[],!1,null,"19235d0e",null);u.options.__file="src/app/views/homeSetting/carousel/carousel.vue";t.default=u.exports}}]);